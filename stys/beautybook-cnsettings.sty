\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{stys/beautybook-cnsettings}[2024/07/14,v5.0]
% ----------------------------------- 字体设置 ----------------------------------- %
\defaultfontfeatures{Path=fonts/} % 定义默认的字体存放位置路径
\setCJKmainfont[BoldFont={FZheiti_GBK.TTF},ItalicFont={FZBWKSK.TTF},SlantedFont = {HYShuFang_75W.ttf}]{FZsong_GBK.TTF}
\setCJKsansfont[BoldFont={HYShuFang_75W.ttf},ItalicFont={FZBWKSK.TTF},SlantedFont = {FZkaiti_GBK.TTF}]{FZheiti_GBK.TTF}
\setCJKmonofont{FZfangsong_GBK.TTF}
\newCJKfontfamily[kaishu]\kaishu{FZkaiti_GBK.TTF}
\newCJKfontfamily[shufang]\shufang{HYShuFang_75W.ttf}
% /* ---------------------------------------------------------------------------- */
% \setmainfont[
%     Path=fonts/times/,
%     BoldFont=timesbd.ttf,
%     ItalicFont=timesi.ttf,
%     BoldItalicFont=timesbi.ttf
% ]
% {times.ttf}
\setmainfont[
    Path = fonts/pt-serif-pro-cufonfonts/,   % 字体文件的路径（可选）
    Extension =.OTF,              % 字体文件扩展名（例如 .ttf 或 .otf）
    UprightFont = *-Regular,       % 正常字体
    BoldFont = *-Bold,             % 粗体
    ItalicFont = *-Italic,         % 斜体
    BoldItalicFont = *-BdIt, % 粗斜体
    % SmallCapsFont = *-SmallCaps,   % 小型大写字母（如果支持）
    Ligatures = TeX,               % 启用 TeX 常用连字，例如 ---, --, ``, ''
    % Numbers = OldStyle,            % 使用旧式数字
    % Scale = 1.0,                   % 字体缩放（默认为1.0）
    % LetterSpace = 5.0,             % 字母间距调整（单位为千分单位，1000 为正常）
]{PTSerifPro}  % 字体的实际名称或文件名
\renewcommand{\partial}{∂}
\setsansfont[BoldFont=HONORSans-Bold.ttf%, ItalicFont=ItalicFontName, BoldItalicFont=BoldItalicFontName
]{HONORSansCN-Regular.ttf}
\setmonofont[
    Path=fonts/DejaVuSansMono/,
    Extension =.ttf,              % 字体文件扩展名（例如 .ttf 或 .otf）
    UprightFont = *-Regular,       % 正常字体
    BoldFont = *-Bold,             % 粗体
    ItalicFont = *-Oblique,         % 斜体
    BoldItalicFont = *-BoldOblique, % 粗斜体
]
{DejaVuSansMNerdFontMono} % /-Regular
% ----------------------------------- 字体设置 ----------------------------------- %
% /* -------------------------------------------------------------------------- */
% /*                                    定理设定                                    */
% /* -------------------------------------------------------------------------- */
%% First one
\mynewtheorem{
    defi={\textbf{定义}}[section]{interior style={left color=ReD!8,right color=ReD!5!CyaN!50}, borderline west={1.5mm}{0mm}{ReD}},
    thm={\textbf{定理}}[section]{interior style={left color=CyaN!80!black!20,right color=CyaN!80!black!15!CyaN!50}, borderline west={1.5mm}{0mm}{CyaN!80!black}},
    lem={\textbf{引理}}[section]{interior style={left color=BluE!8,right color=BluE!5!CyaN!50}, borderline west={1.5mm}{0mm}{BluE}},
    prop={\textbf{命题}}[section]{interior style={left color=OrangE!8,right color=OrangE!5!CyaN!50}, borderline west={1.5mm}{0mm}{OrangE}},
    exam={\textbf{例题}}[chapter]{interior style={left color=DarkGreen!8,right color=DarkGreen!5!CyaN!50}, borderline west={1.5mm}{0mm}{DarkGreen}},
    cor={\textbf{推论}}[chapter]{interior style={left color=violet!8,right color=violet!5!CyaN!50}, borderline west={1.5mm}{0mm}{violet}},
}
\newtheorem*{remark}{\textbf{注意}}
%% Second one
\makeatletter
\mynewtcbtheorem{
    % 这个 theorem 是环境名
    problem={
        counter=tcbprob, 
        the counter=\thesection.\arabic{tcbprob}, 
        name=Problem, % 它保存到 \theorem@name 里
        thmcolor=绛紫,
        autoref name=\bfseries 问题, 
        style={
        arc=3pt,breakable,enhanced,interior style={top color=绛紫!9 ,middle color=绛紫!6, bottom color=绛紫!3},boxrule=0pt,top=8mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\itshape, step={tcbprob},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@theorem@overlay@unbroken{问题\ \thetcbprob}{绛紫},
        overlay first=\my@theorem@overlay@first{问题\ \thetcbprob}{绛紫},
        overlay last=\my@theorem@overlay@last{绛紫},
        }
    },
    lemma={
        counter=tcblem,
        the counter=\thesection.\arabic{tcblem},
        name=引理, 
        lemcolor=靛蓝, 
        autoref name=\bfseries 引理,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=靛蓝!9 ,middle color=靛蓝!6, bottom color=靛蓝!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\itshape,step={tcblem},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{\lemma@name\ \thetcblem}{\lemma@lemcolor},
        overlay first=\my@lemma@overlay@first{\lemma@name\ \thetcblem}{\lemma@lemcolor},
        overlay last=\my@lemma@overlay@last{\lemma@lemcolor},
        }
    },
    corollary={
        counter=tcbcor,
        the counter=\thesection.\arabic{tcbcor},
        autoref name=\bfseries 推论,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=茶色!9 ,middle color=茶色!6, bottom color=茶色!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\itshape,step={tcbcor},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{推论\ \thetcbcor}{茶色},
        overlay first=\my@lemma@overlay@first{推论\ \thetcbcor}{茶色},
        overlay last=\my@lemma@overlay@last{茶色},
        }
    },
    proposition={
        counter=tcbprop,
        the counter=\thesection.\arabic{tcbprop},
        autoref name=\bfseries 命题,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=黛绿!9 ,middle color=黛绿!6, bottom color=黛绿!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\itshape,step={tcbprop},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{命题\ \thetcbprop}{黛绿},
        overlay first=\my@lemma@overlay@first{命题\ \thetcbprop}{黛绿},
        overlay last=\my@lemma@overlay@last{黛绿},
        }
    },
    definition={
        counter=tcbdefi,
        the counter=\thesection.\arabic{tcbdefi},
        autoref name=\bfseries 定义,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=茜色!9 ,middle color=茜色!6, bottom color=茜色!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\normalsize,step={tcbdefi},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{定义\ \thetcbdefi}{茜色},
        overlay first=\my@lemma@overlay@first{定义\ \thetcbdefi}{茜色},
        overlay last=\my@lemma@overlay@last{茜色},
        }
    },
    example={
        counter=tcbexam,
        the counter=\thesection.\arabic{tcbexam},
        autoref name=\bfseries 例题,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=黛绿!9 ,middle color=黛绿!6, bottom color=黛绿!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\normalsize,step={tcbexam},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{例题\ \thetcbexam}{黛绿},
        overlay first=\my@lemma@overlay@first{例题\ \thetcbexam}{黛绿},
        overlay last=\my@lemma@overlay@last{黛绿},
        }
    },
    Exercise={
        counter=tcbexer,
        the counter=\thechapter.\arabic{tcbexer},
        autoref name=\bfseries 练习,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=绛紫!9 ,middle color=绛紫!6, bottom color=绛紫!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.9,
        fontupper=\normalsize,step={tcbexer},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{练习\ \thetcbexer}{绛紫},
        overlay first=\my@lemma@overlay@first{练习\ \thetcbexer}{绛紫},
        overlay last=\my@lemma@overlay@last{绛紫},
        }
    },
    theorem={
        counter=tcbthm,
        the counter=\thesection.\arabic{tcbthm},
        autoref name=\bfseries 定理,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=黛绿!9 ,middle color=黛绿!6, bottom color=黛绿!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\itshape,step={tcbthm},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{定理\ \thetcbthm}{黛绿},
        overlay first=\my@lemma@overlay@first{定理\ \thetcbthm}{黛绿},
        overlay last=\my@lemma@overlay@last{黛绿},
        }
    },
    conjecture={
        counter=tcbconj,
        the counter=\thesection.\arabic{tcbconj},
        name=Conjecture, 
        lemcolor=靛蓝, 
        autoref name=\bfseries 猜想,
        style={
        arc=0mm,breakable,enhanced,interior style={top color=靛蓝!9 ,middle color=靛蓝!6, bottom color=靛蓝!3},arc=3pt,boxrule=0pt,top=6mm,bottom=5mm,
        fuzzy shadow={-0.6mm}{0.6mm}{0mm}{0.3mm}{white!50!gray},% 上
        fuzzy shadow={0.6mm}{-0.6mm}{0mm}{0.3mm}{fill=white!40!gray},%下
        opacityframe=0, opacityback=0.98,
        fontupper=\itshape,step={tcbconj},
        before pre=\smallskip, after app=\smallskip,
        overlay unbroken=\my@lemma@overlay@unbroken{猜想\ \thetcblem}{靛蓝},
        overlay first=\my@lemma@overlay@first{猜想\ \thetcblem}{靛蓝},
        overlay last=\my@lemma@overlay@last{靛蓝},
        }
    },
}
\makeatother

% proof
\newcommand{\itbf}[1]{\textit{\textbf{#1}}}
\declaretheoremstyle[
    spaceabove=3pt,spacebelow=3pt,
    headfont=\itshape,
    notefont=\normalfont\bfseries,notebraces={(}{)},
    bodyfont=\normalfont,
    postheadspace=.5em,
    headpunct={.},
    qed=\color{cyan!40!black}$\blacksquare$,%\qedsymbol
]{Proofstyle}
\declaretheorem[style=Proofstyle,numbered=no,name={\shufang 证明}]{Proof}
\renewenvironment{proof}{\begin{Proof} }{\end{Proof}}
\declaretheorem[style=Proofstyle,numbered=no,name={\shufang 解}]{solution}
% /* -------------------------------------------------------------------------- */

% 设置1.25倍行距
\linespread{1.25}
\setlist[itemize]{itemsep=1pt, parsep=1pt} % 对所有itemize环境生效
\setlist[enumerate]{itemsep=1pt, parsep=1pt} % 对所有enumerate环境生效

%% --------参考文献
\RequirePackage[
backend=biber,
style=numeric,
sorting=nty
]{biblatex}
\addbibresource{ref.bib}

% Index Settings
\indexsetup{level=\chapter*,noclearpage}
\makeindex[title={\sffamily References},columns=3,columnsep=15pt,columnseprule]
\makeindex

% 代码环境
\usepackage{listings}
    \lstset{
        basicstyle=\small\ttfamily,	
            keywordstyle=\color{NavyBlue}, 
            commentstyle=\color{gray!50!black!50},   	
            stringstyle=\rmfamily\slshape\color{red}, 	
        backgroundcolor=\color{gray!5},     
        frame=leftline,						
        framerule=0.5pt,rulecolor=\color{gray!80}, 
        numbers=left,				
            numberstyle=\footnotesize,	
            firstnumber=1,
            stepnumber=1,                  	
            numbersep=7pt,               	
        aboveskip=.25em, 			
        showspaces=false,               	
        showstringspaces=false,        
        keepspaces=true, 					
        showtabs=false,                 	
        tabsize=2,                     		
        captionpos=b,                   	
        flexiblecolumns=true, 			
        breaklines=true,                	
        breakatwhitespace=false,        	
        breakautoindent=true,			
        breakindent=1em, 			
        title=\lstname,				
        escapeinside=``,  		
        xleftmargin=1em,  xrightmargin=1em,     
        aboveskip=1ex, belowskip=1ex,
        framextopmargin=1pt, framexbottommargin=1pt,
            abovecaptionskip=-2pt,belowcaptionskip=3pt,
        extendedchars=false, columns=flexible, mathescape=true,
        texcl=true,
        fontadjust
    }%

%---------------------------------
\newcommand{\fraka}{{\mathfrak a}}
\newcommand{\frakb}{{\mathfrak b}}
\newcommand{\frakc}{{\mathfrak c}}
\newcommand{\frakd}{{\mathfrak d}}
\newcommand{\frake}{{\mathfrak e}}
\newcommand{\frakf}{{\mathfrak f}}
\newcommand{\frakg}{{\mathfrak g}}
\newcommand{\frakh}{{\mathfrak h}}
\newcommand{\fraki}{{\mathfrak i}}
\newcommand{\frakj}{{\mathfrak j}}
\newcommand{\frakk}{{\mathfrak k}}
\newcommand{\frakl}{{\mathfrak l}}
\newcommand{\frakm}{{\mathfrak m}}
\newcommand{\frakn}{{\mathfrak n}}
\newcommand{\frako}{{\mathfrak o}}
\newcommand{\frakp}{{\mathfrak p}}
\newcommand{\frakq}{{\mathfrak q}}
\newcommand{\frakr}{{\mathfrak r}}
\newcommand{\fraks}{{\mathfrak s}}
\newcommand{\frakt}{{\mathfrak t}}
\newcommand{\fraku}{{\mathfrak u}}
\newcommand{\frakv}{{\mathfrak v}}
\newcommand{\frakw}{{\mathfrak w}}
\newcommand{\frakx}{{\mathfrak x}}
\newcommand{\fraky}{{\mathfrak y}}
\newcommand{\frakz}{{\mathfrak z}}
%---------------------------------
%---------------------------------
\newcommand{\frakA}{{\mathfrak A}}
\newcommand{\frakB}{{\mathfrak B}}
\newcommand{\frakC}{{\mathfrak C}}
\newcommand{\frakD}{{\mathfrak D}}
\newcommand{\frakE}{{\mathfrak E}}
\newcommand{\frakF}{{\mathfrak F}}
\newcommand{\frakG}{{\mathfrak G}}
\newcommand{\frakH}{{\mathfrak H}}
\newcommand{\frakI}{{\mathfrak I}}
\newcommand{\frakJ}{{\mathfrak J}}
\newcommand{\frakK}{{\mathfrak K}}
\newcommand{\frakL}{{\mathfrak L}}
\newcommand{\frakM}{{\mathfrak V}}
\newcommand{\frakN}{{\mathfrak N}}
\newcommand{\frakO}{{\mathfrak O}}
\newcommand{\frakP}{{\mathfrak P}}
\newcommand{\frakQ}{{\mathfrak Q}}
\newcommand{\frakR}{{\mathfrak R}}
\newcommand{\frakS}{{\mathfrak S}}
\newcommand{\frakT}{{\mathfrak T}}
\newcommand{\frakU}{{\mathfrak U}}
\newcommand{\frakV}{{\mathfrak V}}
\newcommand{\frakW}{{\mathfrak W}}
\newcommand{\frakX}{{\mathfrak X}}
\newcommand{\frakY}{{\mathfrak Y}}
\newcommand{\frakZ}{{\mathfrak Z}}
%---------------------------------
%---------------------------------
\newcommand{\bA}{{\mathbb A}}
\newcommand{\bB}{{\mathbb B}}
\newcommand{\bC}{{\mathbb C}}
\newcommand{\bD}{{\mathbb D}}
\newcommand{\bE}{{\mathbb E}}
\newcommand{\bF}{{\mathbb F}}
\newcommand{\bG}{{\mathbb G}}
\newcommand{\bH}{{\mathbb H}}
\newcommand{\bI}{{\mathbb I}}
\newcommand{\bJ}{{\mathbb J}}
\newcommand{\bK}{{\mathbb K}}
\newcommand{\bL}{{\mathbb L}}
\newcommand{\bM}{{\mathbb M}}
\newcommand{\bN}{{\mathbb N}}
\newcommand{\bO}{{\mathbb O}}
\newcommand{\bP}{{\mathbb P}}
\newcommand{\bQ}{{\mathbb Q}}
\newcommand{\bR}{{\mathbb R}}
\newcommand{\bS}{{\mathbb S}}
\newcommand{\bT}{{\mathbb T}}
\newcommand{\bU}{{\mathbb U}}
\newcommand{\bV}{{\mathbb V}}
\newcommand{\bW}{{\mathbb W}}
\newcommand{\bX}{{\mathbb X}}
\newcommand{\bY}{{\mathbb Y}}
\newcommand{\bZ}{{\mathbb Z}}
%---------------------------------
%---------------------------------
\newcommand{\mA}{{\mathcal A}}
\newcommand{\mB}{{\mathcal B}}
\newcommand{\mC}{{\mathcal C}}
\newcommand{\mD}{{\mathcal D}}
\newcommand{\mE}{{\mathcal E}}
\newcommand{\mF}{{\mathcal F}}
\newcommand{\mG}{{\mathcal G}}
\newcommand{\mH}{{\mathcal H}}
\newcommand{\mI}{{\mathcal I}}
\newcommand{\mJ}{{\mathcal J}}
\newcommand{\mK}{{\mathcal K}}
\newcommand{\mL}{{\mathcal L}}
\newcommand{\mM}{{\mathcal V}}
\newcommand{\mN}{{\mathcal N}}
\newcommand{\mO}{{\mathcal O}}
\newcommand{\mP}{{\mathcal P}}
\newcommand{\mQ}{{\mathcal Q}}
\newcommand{\mR}{{\mathcal R}}
\newcommand{\mS}{{\mathcal S}}
\newcommand{\mT}{{\mathcal T}}
\newcommand{\mU}{{\mathcal U}}
\newcommand{\mV}{{\mathcal V}}
\newcommand{\mW}{{\mathcal W}}
\newcommand{\mX}{{\mathcal X}}
\newcommand{\mY}{{\mathcal Y}}
\newcommand{\mZ}{{\mathcal Z}}
%---------------------------------
%---------------------------------
\newcommand{\sA}{{\mathscr A}}
\newcommand{\sB}{{\mathscr B}}
\newcommand{\sC}{{\mathscr C}}
\newcommand{\sD}{{\mathscr D}}
\newcommand{\sE}{{\mathscr E}}
\newcommand{\sF}{{\mathscr F}}
\newcommand{\sG}{{\mathscr G}}
\newcommand{\sH}{{\mathscr H}}
\newcommand{\sI}{{\mathscr I}}
\newcommand{\sJ}{{\mathscr J}}
\newcommand{\sK}{{\mathscr K}}
\newcommand{\sL}{{\mathscr L}}
\newcommand{\sM}{{\mathscr V}}
\newcommand{\sN}{{\mathscr N}}
\newcommand{\sO}{{\mathscr O}}
\newcommand{\sP}{{\mathscr P}}
\newcommand{\sQ}{{\mathscr Q}}
\newcommand{\sR}{{\mathscr R}}
\newcommand{\sS}{{\mathscr S}}
\newcommand{\sT}{{\mathscr T}}
\newcommand{\sU}{{\mathscr U}}
\newcommand{\sV}{{\mathscr V}}
\newcommand{\sW}{{\mathscr W}}
\newcommand{\sX}{{\mathscr X}}
\newcommand{\sY}{{\mathscr Y}}
\newcommand{\sZ}{{\mathscr Z}}
%---------------------------------
%------------------------- end list of symbols --------------

\usepackage{shadowtext}\shadowoffset{.65pt}
\newcommand*{\circled}[1]{\lower.7ex\hbox{\tikz\draw (0pt, 0pt)%
    circle (.5em) node {\makebox[1em][c]{\small #1}};}}

\usepackage{physics,joinbox}
% 新命令
\newcommand{\pr}{^\prime}
\newcommand{\prr}{^{\prime\prime}}
\newcommand{\bd}{\partial}
\newcommand{\bdd}{\overline{\partial}}
\newcommand{\Dif}[2][]{\frac{\dd #1}{\dd #2}}
\newcommand{\Diff}[2][]{\frac{\partial #1}{\partial #2}}
\newcommand{\supp}{\operatorname{Supp}}
\newcommand{\xu}{\sqrt{-1}}
\newcommand{\lang}[1]{\langle #1\rangle}
% 定义紧密双内积符号
\newcommand{\llangle}{\left\langle\!\left\langle}
\newcommand{\rrangle}{\right\rangle\!\right\rangle}
\newtheorem*{Remark}{Remark}
\newtheorem*{note}{NOTATION}






\endinput